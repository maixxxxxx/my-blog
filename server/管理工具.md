# 博客管理工具

## 文章管理

### 方法一：直接编辑数据库文件

编辑 `server/db.json` 文件，添加、修改或删除文章。

#### 添加新文章
```json
{
  "posts": [
    {
      "id": "唯一ID（建议用时间戳）",
      "title": "文章标题",
      "content": "# Markdown 格式的文章内容\n\n这是正文...",
      "excerpt": "文章摘要（可选，不填会自动截取前150字）",
      "category": "分类（如：技术、生活、学习）",
      "tags": ["标签1", "标签2"],
      "date": "2025-10-17T00:00:00.000Z",
      "views": 0
    }
  ]
}
```

修改后需要重启服务：
```bash
pm2 restart my-blog
```

### 方法二：使用 API 接口

#### 1. 创建文章
```bash
curl -X POST http://localhost:5000/api/posts \
  -H "Content-Type: application/json" \
  -d '{
    "title": "我的新文章",
    "content": "# 这是标题\n\n这是内容",
    "excerpt": "文章摘要",
    "category": "技术",
    "tags": ["React", "JavaScript"]
  }'
```

#### 2. 更新文章
```bash
curl -X PUT http://localhost:5000/api/posts/文章ID \
  -H "Content-Type: application/json" \
  -d '{
    "title": "更新后的标题",
    "content": "更新后的内容"
  }'
```

#### 3. 删除文章
```bash
curl -X DELETE http://localhost:5000/api/posts/文章ID
```

#### 4. 查看所有文章
```bash
curl http://localhost:5000/api/posts
```

---

## 时光轴管理

### 添加时光轴事件

编辑 `server/db.json` 中的 `timeline` 部分：

```json
{
  "timeline": [
    {
      "id": "唯一ID",
      "title": "事件标题",
      "description": "事件描述",
      "date": "2025-10-17T00:00:00.000Z"
    }
  ]
}
```

或使用 API：
```bash
curl -X POST http://localhost:5000/api/timeline \
  -H "Content-Type: application/json" \
  -d '{
    "title": "博客上线",
    "description": "我的个人博客正式上线！",
    "date": "2025-10-17T00:00:00.000Z"
  }'
```

---

## 留言和评论管理

### 查看所有留言
```bash
curl http://localhost:5000/api/guestbook
```

### 查看文章评论
```bash
curl http://localhost:5000/api/posts/文章ID/comments
```

### 删除留言或评论

直接编辑 `server/db.json`，删除相应的条目，然后重启服务：
```bash
pm2 restart my-blog
```

---

## 数据备份

### 手动备份
```bash
# 备份数据库
cp server/db.json server/db.json.backup_$(date +%Y%m%d_%H%M%S)
```

### 恢复备份
```bash
# 恢复数据库
cp server/db.json.backup_20251017_120000 server/db.json
pm2 restart my-blog
```

---

## 清理数据

### 清理所有评论
编辑 `server/db.json`，将 `comments` 设置为空数组：
```json
{
  "comments": []
}
```

### 清理留言板
```json
{
  "guestbook": []
}
```

### 重置浏览量
编辑文章，将 `views` 设置为 0

---

## Markdown 写作技巧

### 常用语法

```markdown
# 一级标题
## 二级标题
### 三级标题

**粗体文字**
*斜体文字*

- 列表项1
- 列表项2

1. 有序列表1
2. 有序列表2

[链接文字](https://example.com)

![图片描述](图片URL)

`行内代码`

​```javascript
// 代码块
console.log('Hello World')
​```

> 引用文字
```

### 示例文章

```markdown
# React Hooks 完全指南

React Hooks 是 React 16.8 引入的新特性，让函数组件也能使用状态和其他 React 特性。

## 什么是 Hooks？

Hooks 是一些可以让你在函数组件里"钩入" React state 及生命周期等特性的函数。

### useState

最常用的 Hook：

​```javascript
import { useState } from 'react'

function Counter() {
  const [count, setCount] = useState(0)
  
  return (
    <button onClick={() => setCount(count + 1)}>
      点击了 {count} 次
    </button>
  )
}
​```

### useEffect

处理副作用：

​```javascript
useEffect(() => {
  document.title = `你点击了 ${count} 次`
}, [count])
​```

## 总结

Hooks 让 React 代码更简洁、更容易理解。

**参考资料：**
- [React 官方文档](https://react.dev)
```

---

## 网站个性化

### 修改网站标题和描述

编辑 `client/index.html`:
```html
<title>你的博客名称</title>
```

### 修改关于页面

编辑 `client/src/pages/About.jsx`，修改个人信息。

### 修改网站 Logo

编辑 `client/src/components/Header.jsx`，修改 logo 部分。

### 修改备案信息

编辑 `client/src/components/Footer.jsx`，修改备案号。

---

## 性能优化建议

1. **定期清理日志**
   ```bash
   pm2 flush
   ```

2. **优化图片**
   - 使用压缩后的图片
   - 使用 CDN 托管图片

3. **启用 Gzip**（Nginx 已配置）

4. **定期备份数据**

---

需要更多帮助？查看 [README.md](../README.md)

